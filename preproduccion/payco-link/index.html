<!DOCTYPE html>
<htmllang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport"content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible"content="IE=edge" />
    <title>Payco - Link</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" />
  </head>
  <body>

    <label for="publicKey">Public Key</label>
    <input type="text" name="publicKey" id="publicKey">    
    <label for="cobroId">cobroId</label>
    <input type="text" name="cobroId" id="cobroId">
    <button type="button" id="button"  onclick="openCheckout()">Open Checkout</button>
    <script
        src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
        crossorigin="anonymous"
    ></script>
    <script type="text/javascript" src="https://epayco-checkout-testing.s3.amazonaws.com/checkout.preprod.js"> </script>
    <script>
    const openCheckout = function () {

      
      const publicKey = document.getElementById("publicKey").value;
      const cobroId = document.getElementById("cobroId").value;

        const handler = ePayco.checkout.configure({
        //key: '2f48ea347518e2f96a6592f6a07ee4dd',
        key: publicKey,
        test: true
        })
        
        let data = {
            amount: 5000,
            confirmation: "https://epayco.co",
            count: "1",
            country: "co",
            currency: "cop",
            description: "Prueba cambio de estado PaycoLink",
            external: "true",
            id_cobro: cobroId,
            invoice: "PLINK01-" + new Date().getTime(),
            lang: "es",
            name: "Compra factura #1613075950495",
            response: "https://epayco.co",
            tax: 0,
            tax_base: 0
        }
        handler.open(data)
    }
    </script>
</body>
  </html>